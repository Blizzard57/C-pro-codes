#include<stdio.h>
int arr[1000005];
int index_array[2002][1003];
int main()
{
    int i,j,k,n,q,m,c=1,p,ans=0,pointer,l,r,x,low1,high1,mid1,mid2,low,high;

    scanf("%d",&n);
    scanf("%d",&q);

    for(i=0;i<2002;i++)
    {
        index_array[i][0] = i+1;
        index_array[i][1001] = 1;
    }

    for(i=1;i<=n;i++)
    {
        scanf("%d",&arr[i]);
        m = arr[i];
        c = index_array[m-1][1001];
        index_array[m-1][c] = i;
        index_array[m-1][1001]++;
    }

    for(i=0;i<q;i++)
    {
        if(i!=0)
            printf("\n");

        scanf("%d",&l);
        scanf("%d",&r);
        scanf("%d",&x);

        if(x==1)
            printf("0");

        else
        {
            for(j=0;j<2002;j++)
            {
                if(index_array[j][1]==0)
                    continue;
                else
                {
                    low1 = 1;
                    high1 = index_array[j][1001]-1;
                    mid1 = (low1 + high1) / 2;

                    while(low1<=high1)
                    {
                        if(index_array[j][mid1]<=r)
                            low1 = mid1+1;
                        else
                            high1 = mid1-1;

                        mid1 = (low1 + high1) / 2;
                    }
                    high=high1;

                    low1 = 1;
                    high1 = index_array[j][1001]-1;
                    mid2 = (low1 + high1) / 2;

                    while(low1<=high1)
                    {
                        if(index_array[j][mid2]<l)
                            low1 = mid2+1;
                        else 
                            high1 = mid2-1;
                        mid2 = (low1 + high1) / 2;
                    }
                    low=low1;
                    pointer = high - low;
                    index_array[j][1002] = pointer+1;
                }
            }

            for(p=1000;p<2002;p++)
                index_array[p][1002]=0;

            ans = 0;
            if(x%2==0)
            {
                for(k=0;k<(x/2)-1;k++)
                {
                    if((index_array[k][1002]!=0)&&(index_array[x-k-2][1002]!=0))
                        ans = ans + index_array[k][1002]*index_array[x-k-2][1002];
                }
                if(index_array[(x/2)-1][1002]!=0)
                    ans = ans + ((index_array[(x/2)-1][1002])*(index_array[(x/2)-1][1002]-1)/2);
                printf("%d ",ans);
            }
            else
            {
                for(k=0;k<=(x/2)-1;k++)
                    if((index_array[k][1002]!=0)&&(index_array[x-k-2][1002]!=0))
                        ans = ans + index_array[k][1002]*index_array[x-k-2][1002];
                printf("%d ",ans);
            }
        }
    }
    return 0;
}
